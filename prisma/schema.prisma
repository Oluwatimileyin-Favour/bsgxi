generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x"]
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model Gameweek {
  gameweekID    Int             @id(map: "PK_Gameweeks") @db.TinyInt
  date          DateTime        @db.Date
  isactive      Boolean
  gametype      String          @db.NChar(10)
  whitescore    Int?            @db.TinyInt
  blackscore    Int?            @db.TinyInt
  motm          Int?            @db.SmallInt
  Players       Player?        @relation(fields: [motm], references: [playerID], onUpdate: NoAction, map: "FK_motm")
  GameweekStats GameweekStat[]

  @@map("gameweeks")
}

model GameweekStat {
  GameweekStatID                           Int       @id(map: "PK__Gameweek__9ACAB8379B3E8BF3") @default(autoincrement()) @db.SmallInt
  gameweekID                               Int       @db.TinyInt
  playerID                                 Int       @db.SmallInt
  teamID                                   Boolean?
  goals_scored                             Int?      @db.TinyInt
  nomineeID                                Int?      @db.SmallInt
  points                                   Int?      @db.TinyInt
  nominated                                Boolean?  @default(false, map: "DF__GameweekS__nomin__2739D489")
  Gameweeks                                Gameweek @relation(fields: [gameweekID], references: [gameweekID], onUpdate: NoAction, map: "FK_GameweekStats_Gameweeks")
  Players_GameweekStats_nomineeIDToPlayers Player?  @relation("GameweekStats_nomineeIDToPlayers", fields: [nomineeID], references: [playerID], onDelete: NoAction, onUpdate: NoAction, map: "FK_gameweekstats_nominee")
  Players                                  Player   @relation(fields: [playerID], references: [playerID], onUpdate: NoAction, map: "FK__GameweekS__playe__6C190EBB")

  @@map("gameweekStats")
}

model Player {
  playerID                                       Int             @id(map: "PK_playerID") @db.SmallInt
  code                                           String          @unique(map: "UQ_Players_code") @db.NChar(5)
  firstname                                      String          @db.NVarChar(50)
  lastname                                       String          @db.NVarChar(50)
  totalpoints                                    Int?            @db.SmallInt
  totalgoals                                     Int?            @db.SmallInt
  monthpoints                                    Int?            @db.SmallInt
  monthvotes                                     Int?            @db.SmallInt
  Gameweeks                                      Gameweek[]
  GameweekStats_GameweekStats_nomineeIDToPlayers GameweekStat[] @relation("GameweekStats_nomineeIDToPlayers")
  GameweekStats                                  GameweekStat[]

  @@map("players")
}

model sysdiagrams {
  name         String @db.NVarChar(128)
  principal_id Int
  diagram_id   Int    @id(map: "PK__sysdiagr__C2B05B6100FF1AD8") @default(autoincrement())
  version      Int?
  definition   Bytes?

  @@unique([principal_id, name], map: "UK_principal_name")
}
